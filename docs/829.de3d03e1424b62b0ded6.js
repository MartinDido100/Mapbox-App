"use strict";(self.webpackChunkmapbox=self.webpackChunkmapbox||[]).push([[829],{829:(T,l,s)=>{s.r(l),s.d(l,{MapasModule:()=>L});var p=s(583),d=s(353),c=s(958),e=s(639);let u=(()=>{class o{constructor(){}ngOnInit(){new c.Map({container:"mapa",style:"mapbox://styles/mapbox/streets-v11",center:[-58.59191341034239,-34.65963943279471],zoom:15})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-full-screen"]],decls:1,vars:0,consts:[["id","mapa"]],template:function(t,a){1&t&&e._UZ(0,"div",0)},styles:["#mapa[_ngcontent-%COMP%]{width:100%;height:100%}"]}),o})();const g=["mapa"];let h=(()=>{class o{constructor(){this.zoomLevel=15,this.center=[-58.59191341034239,-34.65963943279471]}ngOnDestroy(){this.mapa.off("zoom",()=>{}),this.mapa.off("zommend",()=>{}),this.mapa.off("move",()=>{})}ngAfterViewInit(){this.mapa=new c.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:[-58.59191341034239,-34.65963943279471],zoom:this.zoomLevel}),this.mapa.on("zoom",t=>{const a=this.mapa.getZoom();this.zoomLevel=a}),this.mapa.on("zoomend",t=>{this.mapa.getZoom()>18&&this.mapa.zoomTo(18)}),this.mapa.on("move",t=>{const{lng:a,lat:r}=t.target.getCenter();this.center=[a,r]})}zoomIn(){this.mapa.zoomIn(),this.zoomLevel=this.mapa.getZoom()}zoomOut(){this.mapa.zoomOut(),this.zoomLevel=this.mapa.getZoom()}cambioRange(t){this.mapa.zoomTo(parseInt(t))}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-zoom-range"]],viewQuery:function(t,a){if(1&t&&e.Gf(g,5),2&t){let r;e.iGM(r=e.CRH())&&(a.divMapa=r.first)}},decls:16,vars:13,consts:[[1,"mapa-container"],["mapa",""],[1,"row"],[1,"col-12"],[1,"form-label"],["type","range","min","0","max","18",1,"form-range",3,"value","input"],["zoomInput",""],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary","float-end",3,"click"]],template:function(t,a){if(1&t){const r=e.EpF();e._UZ(0,"div",0,1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"label",4),e._uU(5),e.ALo(6,"number"),e.ALo(7,"number"),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"input",5,6),e.NdJ("input",function(){e.CHM(r);const m=e.MAs(10);return a.cambioRange(m.value)}),e.qZA(),e.qZA(),e.TgZ(11,"div",3),e.TgZ(12,"button",7),e.NdJ("click",function(){return a.zoomOut()}),e._uU(13," - "),e.qZA(),e.TgZ(14,"button",8),e.NdJ("click",function(){return a.zoomIn()}),e._uU(15," + "),e.qZA(),e.qZA(),e.qZA()}2&t&&(e.xp6(5),e.lnq(" Zoom: ",e.xi3(6,4,a.zoomLevel,"2.0-2")," - Lng,Lat: [ ",e.xi3(7,7,a.center[0],"2.3-3"),", ",e.xi3(8,10,a.center[1],"2.3-3")," ] "),e.xp6(4),e.Q6J("value",a.zoomLevel))},pipes:[p.JJ],styles:[".mapa-container[_ngcontent-%COMP%]{width:100%;height:100%}.row[_ngcontent-%COMP%]{background:white;position:fixed;bottom:50px;left:50px;padding:10px;border-radius:5px;z-index:99900;width:400px}button[_ngcontent-%COMP%]{width:40px;height:40px}"]}),o})();const f=["mapa"],M=function(o){return{"background-color":o}};function _(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li",5),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw().irMarcador(i.marker)})("dblclick",function(){const i=e.CHM(t).index;return e.oxw().borrarMarcador(i)}),e._uU(1),e.qZA()}if(2&o){const a=n.index;e.Q6J("ngStyle",e.VKq(2,M,n.$implicit.color)),e.xp6(1),e.hij(" Marker ",a+1," ")}}let v=(()=>{class o{constructor(){this.zoomLevel=15,this.center=[-58.59191341034239,-34.65963943279471],this.marcadores=[]}ngAfterViewInit(){this.mapa=new c.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:[-58.59191341034239,-34.65963943279471],zoom:this.zoomLevel}),this.leerMarcadores()}agregarMarcador(){const t="#xxxxxx".replace(/x/g,r=>(16*Math.random()|0).toString(16)),a=new c.Marker({draggable:!0,color:t}).setLngLat(this.mapa.getCenter()).addTo(this.mapa);this.marcadores.push({color:t,marker:a}),this.guardarMarcadores(),a.on("dragend",()=>{this.guardarMarcadores()})}irMarcador(t){this.mapa.flyTo({center:t.getLngLat()})}guardarMarcadores(){const t=[];this.marcadores.forEach(a=>{const r=a.color,{lng:i,lat:m}=a.marker.getLngLat();t.push({color:r,centro:[i,m]})}),localStorage.setItem("marcadores",JSON.stringify(t))}leerMarcadores(){localStorage.getItem("marcadores")&&JSON.parse(localStorage.getItem("marcadores")).forEach(a=>{const r=new c.Marker({color:a.color,draggable:!0}).setLngLat(a.centro).addTo(this.mapa);this.marcadores.push({marker:r,color:a.color}),r.on("dragend",()=>{this.guardarMarcadores()})})}borrarMarcador(t){var a;null===(a=this.marcadores[t].marker)||void 0===a||a.remove(),this.marcadores.splice(t,1),this.guardarMarcadores()}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-marcadores"]],viewQuery:function(t,a){if(1&t&&e.Gf(f,5),2&t){let r;e.iGM(r=e.CRH())&&(a.divMapa=r.first)}},decls:6,vars:1,consts:[[1,"list-group"],[1,"list-group-item","list-group-item-info",3,"click"],["class","list-group-item",3,"ngStyle","click","dblclick",4,"ngFor","ngForOf"],[1,"mapa-container"],["mapa",""],[1,"list-group-item",3,"ngStyle","click","dblclick"]],template:function(t,a){1&t&&(e.TgZ(0,"ul",0),e.TgZ(1,"li",1),e.NdJ("click",function(){return a.agregarMarcador()}),e._uU(2," + Agregar "),e.qZA(),e.YNc(3,_,2,4,"li",2),e.qZA(),e._UZ(4,"div",3,4)),2&t&&(e.xp6(3),e.Q6J("ngForOf",a.marcadores))},directives:[p.sg,p.PC],styles:[".mapa-container[_ngcontent-%COMP%]{width:100%;height:100%}.list-group[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:999}li[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}"]}),o})();const Z=["mapa"];let C=(()=>{class o{constructor(){this.lngLat=[0,0]}ngAfterViewInit(){const t="#xxxxxx".replace(/x/g,i=>(16*Math.random()|0).toString(16)),a=new c.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:this.lngLat,zoom:16,interactive:!1});new c.Marker({color:t}).setLngLat(this.lngLat).addTo(a)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-minimapa"]],viewQuery:function(t,a){if(1&t&&e.Gf(Z,5),2&t){let r;e.iGM(r=e.CRH())&&(a.divMapa=r.first)}},inputs:{lngLat:"lngLat"},decls:2,vars:0,consts:[[1,"divMapa"],["mapa",""]],template:function(t,a){1&t&&e._UZ(0,"div",0,1)},styles:[".divMapa[_ngcontent-%COMP%]{width:100%;height:150px;margin:0}"]}),o})();function x(o,n){if(1&o&&(e.TgZ(0,"div",6),e.TgZ(1,"div",7),e._UZ(2,"app-minimapa",8),e.TgZ(3,"div",9),e.TgZ(4,"h5",10),e._uU(5),e.qZA(),e.TgZ(6,"p",11),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=n.$implicit;e.xp6(2),e.Q6J("lngLat",t.lngLat),e.xp6(3),e.hij(" ",t.titulo," "),e.xp6(2),e.hij(" ",t.descripcion," ")}}const y=[{path:"",children:[{path:"fullscreen",component:u},{path:"zoom",component:h},{path:"marcadores",component:v},{path:"propiedades",component:(()=>{class o{constructor(){this.propiedades=[{titulo:"Casa residencial, Canad\xe1",descripcion:"Bella propiedad en Katana, Canad\xe1",lngLat:[-75.92722289474008,45.280015511264466]},{titulo:"Casa de playa, M\xe9xico",descripcion:"Hermosa casa de playa en Acapulco, M\xe9xico",lngLat:[-99.91287720907991,16.828940930185748]},{titulo:"Apartamento, Argentina",descripcion:"Lujoso apartamento en el coraz\xf3n de Buenos Aires, Argentina",lngLat:[-58.430166677283445,-34.57150108832866]},{titulo:"Local comercial, Espa\xf1a",descripcion:"Local comercial disponible en Madrid, Espa\xf1a, cerca de El Jard\xedn Secreto.",lngLat:[-3.7112735618380177,40.42567285425766]}]}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-propiedades"]],decls:11,vars:1,consts:[[1,"row","mt-3"],[1,"col-2"],[1,"col"],[1,"row","container"],[1,"row"],["class","col-4 mb-2",4,"ngFor","ngForOf"],[1,"col-4","mb-2"],[1,"card"],[3,"lngLat"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h1"),e._uU(4,"Lista de propiedades"),e.qZA(),e._UZ(5,"hr"),e.qZA(),e.qZA(),e.TgZ(6,"div",3),e._UZ(7,"div",1),e.TgZ(8,"div",2),e.TgZ(9,"div",4),e.YNc(10,x,8,3,"div",5),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngForOf",a.propiedades))},directives:[p.sg,C],styles:[".mt-3[_ngcontent-%COMP%]{width:76%}"]}),o})()},{path:"**",redirectTo:"fullscreen"}]}];let b=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.Bz.forChild(y)],d.Bz]}),o})(),L=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.ez,b]]}),o})()}}]);